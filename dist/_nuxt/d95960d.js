(window.webpackJsonp=window.webpackJsonp||[]).push([[12,2,6,7],{303:function(e,t,r){var content=r(306);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(115).default)("1866d33e",content,!0,{sourceMap:!1})},304:function(e,t,r){var content=r(312);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(115).default)("4c0d0982",content,!0,{sourceMap:!1})},305:function(e,t,r){"use strict";r(303)},306:function(e,t,r){var n=r(114)((function(i){return i[1]}));n.push([e.i,".overlay[data-v-45231e1e]{background-color:rgba(0,0,0,.2);height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:10}.overlay[data-v-45231e1e],form[data-v-45231e1e]{align-items:center;display:flex;justify-content:center}form[data-v-45231e1e]{background-color:#fff;border-radius:20px;flex-direction:column;gap:1rem;padding:2rem}.inputContainer[data-v-45231e1e]{grid-gap:2rem;display:grid;gap:2rem;grid-template-columns:1fr 3fr;justify-items:flex-end;width:100%}.inputContainer input[data-v-45231e1e],.inputContainer textarea[data-v-45231e1e]{width:100%}.deleteConfirm[data-v-45231e1e]{background-color:green}.editConfirm[data-v-45231e1e]{background-color:red}",""]),n.locals={},e.exports=n},307:function(e,t,r){"use strict";r.r(t);var n=r(117),c=r(21);function o(source,e){if(null==source)return{};var t,i,r=function(source,e){if(null==source)return{};var t,i,r={},n=Object.keys(source);for(i=0;i<n.length;i++)t=n[i],e.indexOf(t)>=0||(r[t]=source[t]);return r}(source,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(source);for(i=0;i<n.length;i++)t=n[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(source,t)&&(r[t]=source[t])}return r}r(14),r(34),r(310),r(211),r(86),r(35),r(28),r(47),r(29),r(48);var l=r(309),d=["id"];function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={props:["recipe","isIcon"],data:function(){return{email:[],overlayShow:!1,editOverlay:!1}},components:{EditForm:l.default},computed:{likeCount:function(){var e,t;return 1===(null===(e=this.recipe.dataLikes)||void 0===e?void 0:e.length)?"null"===this.recipe.dataLikes[0]?0:1:null===(t=this.recipe.dataLikes)||void 0===t?void 0:t.length},likeImage:function(){var e=this.$store.getters.userEmail;return this.recipe.dataLikes.some((function(t){return t[0]===e}))?"images/heart-red.png":"images/heart-black.png"}},methods:{overlay:function(e){this.overlayShow=e},editOverlayFunc:function(e){this.editOverlay=e},likeClick:function(){var e;console.log("tes"),this.$store.getters.isAuthenticated||this.$router.push("/user/login");var t=this.$store.getters.userEmail;if(1===(null===(e=this.email)||void 0===e?void 0:e.length)&&"null"===this.email[0])this.email[0]=t;else{var r,c,l=null===(r=this.email)||void 0===r?void 0:r.filter((function(e){return e===t}));if(0===(null==l?void 0:l.length))this.email.push(t);else if(1===(null===(c=this.email)||void 0===c?void 0:c.length))this.email[0]="null";else{var f,h,m=null===(f=this.email)||void 0===f?void 0:f.findIndex((function(e){return e===t}));null===(h=this.email)||void 0===h||h.splice(m,1)}}var y=this.recipe,_=(y.id,o(y,d));"null"===this.recipe.dataLikes[0]?this.$store.dispatch("likeUpdate",{recipeId:this.recipe.id,newDataRecipe:v(v({},_),{},{dataLikes:[this.email]})}):this.recipe.dataLikes.some((function(e){return e[0]===t}))||this.$store.dispatch("likeUpdate",{recipeId:this.recipe.id,newDataRecipe:v(v({},_),{},{dataLikes:[].concat(Object(n.a)(this.recipe.dataLikes),[this.email])})})},deleteRecipe:function(){this.$store.dispatch("deleteRecipe",this.recipe.id),this.overlay(!1)}}},m=(r(311),r(33)),component=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"card col-md-3"},[t("img",{staticClass:"recipes-content__img card-img-top rounded",attrs:{alt:e.recipe.recipeTitle,src:e.recipe.recipeImage}}),e._v(" "),t("p",{staticClass:"username"},[e._v(e._s(e.recipe.username))]),e._v(" "),t("div",{staticClass:"card-body"},[t("nuxt-link",{staticClass:"card-text fs-5 text",staticStyle:{height:"45px","align-item":"center"},attrs:{tag:"h1",to:{name:"recipe-recipeId",params:{recipeId:e.recipe.id}}}},[e._v("\n      "+e._s(e.recipe.recipeTitle)+"\n    ")]),e._v(" "),t("div",{staticClass:"recipes-content__body__review card-footer bg-transparent"},[t("img",{attrs:{src:e.likeImage,alt:"Heart"},on:{click:e.likeClick}}),e._v(" "),t("p",[e._v(e._s(e.likeCount)+" likes")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:!0===e.isIcon,expression:"isIcon === true"}],staticClass:"delete",on:{click:function(t){return e.overlay(!0)}}},[t("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:!0===e.isIcon,expression:"isIcon === true"}],staticClass:"edit",on:{click:function(t){return e.editOverlayFunc(!0)}}},[t("i",{staticClass:"fa fa-file",attrs:{"aria-hidden":"true"}})])])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.overlayShow,expression:"overlayShow === true"}],staticClass:"overlay"},[t("div",{staticClass:"overlayContent"},[t("h2",[e._v("Are you sure want to delete this recipe?")]),e._v(" "),t("div",{staticClass:"buttonContainer"},[t("button",{staticClass:"deleteConfirm",on:{click:e.deleteRecipe}},[e._v("Delete")]),e._v(" "),t("button",{staticClass:"editConfirm",on:{click:function(t){return e.overlay(!1)}}},[e._v("Cancel")])])])]),e._v(" "),t("EditForm",{directives:[{name:"show",rawName:"v-show",value:!0===e.editOverlay,expression:"editOverlay === true"}],attrs:{recipe:e.recipe}})],1)}),[],!1,null,null,null);t.default=component.exports},308:function(e,t,r){var content=r(315);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(115).default)("214e2bca",content,!0,{sourceMap:!1})},309:function(e,t,r){"use strict";r.r(t);r(28),r(49),r(35),r(34),r(14),r(47),r(29),r(48);var n=r(21);r(36);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l={props:["recipe"],data:function(){return{newRecipe:this.recipe?o({},this.recipe):{recipeImage:"",recipeTitle:"",ingredients:[],directions:[],description:""}}},methods:{addRecipe:function(){var e=this,t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(this.newRecipe),this.newRecipe));this.$store.dispatch("updateRecipe",{newRecipe:t,id:this.newRecipe.id}).then((function(){e.$router.push("/user")}))},changeTitle:function(e){this.newRecipe=o(o({},this.newRecipe),{},Object(n.a)({},e.target.name,e.target.value))},changeIng:function(e,t){var r=o({},this.newRecipe);r.ingredients[t]=e.target.value,this.newRecipe=r},changeDir:function(e,t){var r=o({},this.newRecipe);r.directions[t]=e.target.value,this.newRecipe=r}}},d=(r(305),r(33)),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"overlay"},[t("form",{staticClass:"form"},[t("h2",[e._v("Edit Recipe")]),e._v(" "),t("div",{staticClass:"inputContainer"},[t("label",[e._v("Recipe Image")]),e._v(" "),t("input",{attrs:{type:"text",placeholder:e.recipe.recipeImage,name:"recipeImage"},on:{change:function(t){return e.changeTitle(t)}}})]),e._v(" "),t("div",{staticClass:"inputContainer"},[t("label",[e._v("Recipe Title")]),e._v(" "),t("input",{attrs:{type:"text",placeholder:e.recipe.recipeTitle,name:"recipeTitle"},on:{change:function(t){return e.changeTitle(t)}}})]),e._v(" "),e._l(e.recipe.ingredients,(function(r,n){return t("div",{staticClass:"inputContainer"},[t("label",[e._v("Recipe Ingredients")]),e._v(" "),t("input",{attrs:{type:"text",placeholder:e.recipe.ingredients[n]},on:{change:function(t){return e.changeIng(t,n)}}})])})),e._v(" "),e._l(e.recipe.directions,(function(r,n){return t("div",{staticClass:"inputContainer"},[t("label",[e._v("Recipe Directions")]),e._v(" "),t("input",{attrs:{type:"text",placeholder:e.recipe.directions[n]},on:{change:function(t){return e.changeDir(t,n)}}})])})),e._v(" "),t("div",{staticClass:"inputContainer"},[t("label",[e._v("Recipe Description")]),e._v(" "),t("textarea",{attrs:{cols:"30",rows:"10",placeholder:e.recipe.description,name:"description"},on:{change:function(t){return e.changeTitle(t)}}})]),e._v(" "),t("div",{staticClass:"buttonContainer"},[t("button",{staticClass:"deleteConfirm",on:{click:e.addRecipe}},[e._v("Save")]),e._v(" "),t("button",{staticClass:"editConfirm"},[e._v("Cancel")])]),e._v("\n    "+e._s(e.newRecipe)+"\n  ")],2)])}),[],!1,null,"45231e1e",null);t.default=component.exports},310:function(e,t,r){"use strict";var n=r(2),c=r(68).findIndex,o=r(116),l="findIndex",d=!0;l in[]&&Array(1)[l]((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{findIndex:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),o(l)},311:function(e,t,r){"use strict";r(304)},312:function(e,t,r){var n=r(114)((function(i){return i[1]}));n.push([e.i,".recipes-content__img{height:25vh;width:100%}.recipes-content__body__review{display:flex;gap:10px}.username{margin-bottom:0}.delete,.edit{border:none;border-radius:50%;color:#fff;font-size:1rem;height:30px;width:30px}.delete{background-color:red}.edit{background-color:#c2c204}.deleteConfirm,.editConfirm{border:none;border-radius:100px;color:#fff;font-size:1rem;padding:.5rem 1rem}.deleteConfirm{background-color:red}.editConfirm{background-color:#c2c204}.overlay{background-color:rgba(0,0,0,.5);height:100vh;left:0;position:fixed;top:0;width:100vw}.overlay,.overlayContent{align-items:center;display:flex;justify-content:center}.overlayContent{background-color:#fff;border-radius:20px;flex-direction:column;padding:2rem}.buttonContainer{align-items:center;display:flex;gap:1rem;justify-content:center}",""]),n.locals={},e.exports=n},314:function(e,t,r){"use strict";r(308)},315:function(e,t,r){var n=r(114)((function(i){return i[1]}));n.push([e.i,".recipes{display:flex;flex-wrap:wrap}",""]),n.locals={},e.exports=n},316:function(e,t,r){"use strict";r.r(t);var n={components:{RecipeItem:r(307).default},props:["dataRecipes","isIcon"]},c=(r(314),r(33)),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"row g-5"},e._l(e.dataRecipes,(function(data){return t("RecipeItem",{key:data.id,attrs:{recipe:data,isIcon:e.isIcon}})})),1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{RecipeItem:r(307).default})},341:function(e,t,r){"use strict";r.r(t);r(34),r(14);var n={data:function(){return{isIcon:!0}},components:{"app-recipe-list":r(316).default},middleware:["check-auth","auth"],computed:{recipes:function(){var e=this.$store.getters.userId;return this.$store.getters.recipeData.filter((function(t){return t.userId===e}))}}},c=r(33),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("app-recipe-list",{attrs:{dataRecipes:e.recipes,isIcon:e.isIcon}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);